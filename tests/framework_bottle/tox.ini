[tox]
setupdir = {toxinidir}/../..
envlist =
    py26-bottle008-without-extensions,
    py27-bottle008-without-extensions,
    pypy-bottle008-without-extensions,

    py26-bottle008-with-extensions,
    py27-bottle008-with-extensions,

    py26-bottle009-without-extensions,
    py27-bottle009-without-extensions,
    pypy-bottle009-without-extensions,

    py26-bottle009-with-extensions,
    py27-bottle009-with-extensions,

    py26-bottle010-without-extensions,
    py27-bottle010-without-extensions,
    pypy-bottle010-without-extensions,

    py26-bottle010-with-extensions,
    py27-bottle010-with-extensions,

    py26-bottle011-without-extensions,
    py27-bottle011-without-extensions,
    py33-bottle011-without-extensions,
    pypy-bottle011-without-extensions,

    py26-bottle011-with-extensions,
    py27-bottle011-with-extensions,
    py33-bottle011-with-extensions,

[defaults]
deps =
    pytest
    pytest-cov
    WebTest
setenv =
    NEW_RELIC_CONFIG_FILE = {[tox]setupdir}/testing.ini
    NEW_RELIC_LOG = testing.log
    NEW_RELIC_LOG_LEVEL = debug
    NEW_RELIC_STARTUP_TIMEOUT = 10.0
    NEW_RELIC_SHUTDOWN_TIMEOUT = 10.0
    NEW_RELIC_IGNORE_STARTUP_ERRORS = false

[defaults-without-extensions]
setenv =
    {[defaults]setenv}
    NEW_RELIC_EXTENSIONS = false

[defaults-with-extensions]
setenv =
    {[defaults]setenv}
    NEW_RELIC_EXTENSIONS = true

[testenv:py26-bottle008-without-extensions]
basepython = python2.6
deps =
    {[defaults]deps}
    bottle<0.9.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py27-bottle008-without-extensions]
basepython = python2.7
deps =
    {[defaults]deps}
    bottle<0.9.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:pypy-bottle008-without-extensions]
basepython = pypy
deps =
    {[defaults]deps}
    bottle<0.9.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py26-bottle008-with-extensions]
basepython = python2.6
deps =
    {[defaults]deps}
    bottle<0.9.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py27-bottle008-with-extensions]
basepython = python2.7
deps =
    {[defaults]deps}
    bottle<0.9.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py26-bottle009-without-extensions]
basepython = python2.6
deps =
    {[defaults]deps}
    bottle<0.10.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py27-bottle009-without-extensions]
basepython = python2.7
deps =
    {[defaults]deps}
    bottle<0.10.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:pypy-bottle009-without-extensions]
basepython = pypy
deps =
    {[defaults]deps}
    bottle<0.10.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py26-bottle009-with-extensions]
basepython = python2.6
deps =
    {[defaults]deps}
    bottle<0.10.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py27-bottle009-with-extensions]
basepython = python2.7
deps =
    {[defaults]deps}
    bottle<0.10.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py26-bottle010-without-extensions]
basepython = python2.6
deps =
    {[defaults]deps}
    bottle<0.11.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py27-bottle010-without-extensions]
basepython = python2.7
deps =
    {[defaults]deps}
    bottle<0.11.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:pypy-bottle010-without-extensions]
basepython = pypy
deps =
    {[defaults]deps}
    bottle<0.11.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py26-bottle010-with-extensions]
basepython = python2.6
deps =
    {[defaults]deps}
    bottle<0.11.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py27-bottle010-with-extensions]
basepython = python2.7
deps =
    {[defaults]deps}
    bottle<0.11.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py26-bottle011-without-extensions]
basepython = python2.6
deps =
    {[defaults]deps}
    bottle<0.12.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py27-bottle011-without-extensions]
basepython = python2.7
deps =
    {[defaults]deps}
    bottle<0.12.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py33-bottle011-without-extensions]
basepython = python3.3
deps =
    {[defaults]deps}
    bottle<0.12.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:pypy-bottle011-without-extensions]
basepython = pypy
deps =
    {[defaults]deps}
    bottle<0.12.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-without-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py26-bottle011-with-extensions]
basepython = python2.6
deps =
    {[defaults]deps}
    bottle<0.12.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py27-bottle011-with-extensions]
basepython = python2.7
deps =
    {[defaults]deps}
    bottle<0.12.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)

[testenv:py33-bottle011-with-extensions]
basepython = python3.3
deps =
    {[defaults]deps}
    bottle<0.12.0
commands =
    /bin/rm -f testing.log
    newrelic-admin run-program \
            py.test -v --cov newrelic.hooks.framework_bottle \
            --cov-report html []
setenv =
    {[defaults-with-extensions]setenv}
    NEW_RELIC_APP_NAME = Python Agent Test (framework_bottle)
